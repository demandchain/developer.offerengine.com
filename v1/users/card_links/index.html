<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>User Card Links - OfferEngine API</title>
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">

    <div id="header-wrapper">
      <div id="header">
        <div>
          <ul class="nav">
            <li><a href="mailto:support@offerengine.com">Support</a></li>
          </ul>
        </div>
      </div><!-- #header -->
    </div><!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
        <h1 id="user-card-links">User Card Links</h1>

<ul>
<li><a href="/v1/users/card_links/#list-all-users-card-links">List all user’s card links</a></li>
  <li><a href="/v1/users/card_links/#create-a-card-link">Create a card link</a></li>
  <li><a href="/v1/users/card_links/#unlink-a-card-link">Unlink a card link</a></li>
  <li><a href="/v1/users/card_links/#link-a-card-link">Link a card link</a></li>
  <li><a href="/v1/users/card_links/#redeem-a-card-link">Redeem a card link</a></li>
</ul><p>A card link represents a user linking to a deal.  Once created, a card link will have a state of either “linked”, “unlinked”, or “fulfilled”.</p>

<h2 id="list-all-users-card-links">List all user’s card links</h2>
<p>Returns an array of card link representations.</p>

<pre><code>GET /users/:user_id/card_links
</code></pre>

<h3 id="parameters">Parameters</h3>

<dl>
<dt>filter (optional)</dt>
  <dd>
<em>String</em> Filter the list according to applicable filters (comma-separated).  These include: “linked”, “unlinked”, “fulfilled”.</dd>
  <dt>count (optional)</dt>
  <dd>
<em>Boolean</em> Returns the count instead of the list.  If present, per_page and page will be ignored.</dd>
  <dt>per_page (optional)</dt>
  <dd>
<em>Integer</em> Limits the size of the list.  Default is 100.  Max is 1000.</dd>
  <dt>page (optional)</dt>
  <dd>
<em>Integer</em> Returns the list corresponding to the page number if the result cannot be displayed in a single page.  Default is 1.</dd>
</dl><h3 id="response">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"success"</span><span class="p">,</span>
  <span class="s2">"card_links"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"k3dk20d4"</span><span class="p">,</span>
      <span class="s2">"deal_id"</span><span class="o">:</span> <span class="s2">"dk3kd0a"</span><span class="p">,</span>
      <span class="s2">"user_id"</span><span class="o">:</span> <span class="s2">"dkd90e0"</span><span class="p">,</span>
      <span class="s2">"merchant_id"</span><span class="o">:</span> <span class="s2">"dfk9o3k"</span><span class="p">,</span>
      <span class="s2">"state"</span><span class="o">:</span> <span class="s2">"linked"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="create-a-card-link">Create a card link</h2>
<p>Creates a card link for a user and a deal in the linked state.</p>

<pre><code>POST /card_links
</code></pre>

<h3 id="parameters-1">Parameters</h3>

<dl>
<dt>deal_id</dt>
  <dd>
<em>String</em>  Id of the deal</dd>
  <dt>user_id</dt>
  <dd>
<em>String</em>  Id of the user</dd>
</dl><h3 id="response-1">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"success"</span><span class="p">,</span>
  <span class="s2">"card_link"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"k3dk20d4"</span><span class="p">,</span>
    <span class="s2">"deal_id"</span><span class="o">:</span> <span class="s2">"dk3kd0a"</span><span class="p">,</span>
    <span class="s2">"user_id"</span><span class="o">:</span> <span class="s2">"dkd90e0"</span><span class="p">,</span>
    <span class="s2">"merchant_id"</span><span class="o">:</span> <span class="s2">"dfk9o3k"</span><span class="p">,</span>
    <span class="s2">"state"</span><span class="o">:</span> <span class="s2">"linked"</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<h2 id="unlink-a-card-link">Unlink a card link</h2>
<p>Used to change a card link from “linked” to “unlinked”.</p>

<pre><code>PUT /card_links/:card_link_id/unlink
</code></pre>

<h3 id="response-2">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"success"</span><span class="p">,</span>
  <span class="s2">"card_link"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"k3dk20d4"</span><span class="p">,</span>
    <span class="s2">"deal_id"</span><span class="o">:</span> <span class="s2">"dk3kd0a"</span><span class="p">,</span>
    <span class="s2">"user_id"</span><span class="o">:</span> <span class="s2">"dkd90e0"</span><span class="p">,</span>
    <span class="s2">"merchant_id"</span><span class="o">:</span> <span class="s2">"dfk9o3k"</span><span class="p">,</span>
    <span class="s2">"state"</span><span class="o">:</span> <span class="s2">"unlinked"</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<h2 id="link-a-card-link">Link a card link</h2>
<p>Used to change a card link from “unlinked” to “linked”.</p>

<pre><code>PUT /card_links/:card_link_id/link
</code></pre>

<h3 id="response-3">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"success"</span><span class="p">,</span>
  <span class="s2">"card_link"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"k3dk20d4"</span><span class="p">,</span>
    <span class="s2">"deal_id"</span><span class="o">:</span> <span class="s2">"dk3kd0a"</span><span class="p">,</span>
    <span class="s2">"user_id"</span><span class="o">:</span> <span class="s2">"dkd90e0"</span><span class="p">,</span>
    <span class="s2">"merchant_id"</span><span class="o">:</span> <span class="s2">"dfk9o3k"</span><span class="p">,</span>
    <span class="s2">"state"</span><span class="o">:</span> <span class="s2">"linked"</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<h2 id="redeem-a-card-link">Redeem a card link</h2>
<p>Used to notify us when a card link has been redeemed.</p>

<pre><code>PUT /card_links/:card_link_id/redeem
</code></pre>

<h3 id="parameters-2">Parameters</h3>

<dl>
<dt>transaction_amount</dt>
  <dd>
<em>Integer</em> total amount charged in cents</dd>
  <dt>transaction_date</dt>
  <dd>
<em>String</em> XML DateTime formatted as “YYYY-MM-DDThh:mm:ss”; i.e. 2012-02-06T21:39:51-08:00</dd>
  <dt>transaction_reference</dt>
  <dd><em>String</em></dd>
  <dt>max_redemption</dt>
  <dd>
<em>Boolean</em> Set to true if this redemption fulfills the card link.</dd>
</dl><h3 id="response-4">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"status"</span><span class="o">:</span> <span class="s2">"success"</span>
<span class="p">}</span></code></pre>
      </div>

      <div id="js-sidebar" class="sidebar-shell">
        <div class="js-toggle-list sidebar-module expandable">
          <ul>
            <li>
              <h3><a href="/">Introduction</a></h3>
            </li>
            <li>
              <h3><a href="/v1/authentication/">Authentication</a></h3>
            </li>
            <li>
              <h3><a href="/v1/get_deals/">Get Deals</a></h3>
            </li>
            <li>
              <h3><a href="/v1/full_purchase/">Execute Purchases</a></h3>
            </li>
            <li>
              <h3><a href="/v1/errors/">Errors</a></h3>
            </li>

            <li>
              <h3>
                <a href="javascript:" class="js-expand-btn collapsed">&nbsp;</a>
                <a href="/v1/advanced/">Additional Requests</a>
              </h3>
              <ul>
                <li><a href="/v1/deals/">Deals</a></li>
                <li><a href="/v1/deals/discussions/">Deal Discussions</a></li>
                <li><a href="/v1/purchases/">Purchases</a></li>
                <li><a href="/v1/sessions/">Sessions</a></li>
                <li><a href="/v1/sessions/leads/">Session Leads</a></li>
                <li><a href="/v1/regions/">Regions</a></li>
                <li><a href="/v1/regions/deals/">Region Deals</a></li>
                <li><a href="/v1/regions/activity/">Region Activity</a></li>
                <li><a href="/v1/users/">Users</a></li>
                <li><a href="/v1/users/access_tokens/">User Access Tokens</a></li>
                <li><a href="/v1/users/card_links/">User Card Links</a></li>
                <li><a href="/v1/users/coupons/">User Coupons</a></li>
                <li><a href="/v1/users/credit_cards/">User Credit Cards</a></li>
                <li><a href="/v1/users/images/">User Images</a></li>
                <li><a href="/v1/users/purchases/">User Purchases</a></li>
                <li><a href="/v1/users/saved_deals/">User Saved Deals</a></li>
                <li><a href="/v1/users/shipping_addresses/">User Shipping Addresses</a></li>
                <li><a href="/v1/users/subscriptions/">User Subscriptions</a></li>
                <li><a href="/v1/targeted_emails/batches/">Targeted Emails</a></li>
                <li><a href="/v1/stats/merchants/">Stats</a></li>
              </ul>
            </li>

            <!--
            <li>
              <h3><a href="javascript:" class="js-expand-btn collapsed">&nbsp;</a><a href="/v1/stats/merchants/">Stats</a></h3>
              <ul>
                <li><a href="/v1/stats/merchants/">Merchants</a></li>
              </ul>
            </li>
            -->
          </ul>
        </div> <!-- /sidebar-module -->
      </div><!-- /sidebar-shell -->

    </div><!-- #wrapper -->

    <div id="footer" >
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <!--![if !IE]><h4 id="blacktocat">GitHub Links</h4><![endif]-->

        <!--ul class="footer_nav">
          <h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>

        <ul class="footer_nav">
          <h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>

        <ul class="footer_nav">
          <h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>

        <ul class="footer_nav">
          <h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul-->

        </div><!-- /.site -->
      </div><!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
          <div id="legal">

            <ul id="legal_links">
              <li>Terms of Service</li>
              <li>Privacy</li>
              <li>Security</li>
            </ul>

            <p>&copy; <span id="year">year</span> Rearden Commerce All rights reserved.</p>
          </div><!-- /#legal or /#legal_ie-->

          <!--div class="sponsor">
            <a href="http://www.rackspace.com" class="logo">
              <img src="/shared/images/rackspace_logo.png" alt="Dedicated Server" width="38" height="36">
            </a>
            Powered by the <a href="http://www.rackspace.com ">Dedicated
            Servers</a> and<br/> <a href="http://www.rackspacecloud.com">Cloud
            Computing</a> of Rackspace Hosting<span>&reg;</span>
          </div-->
        </div><!-- /.site -->
      </div><!-- /.lower_footer -->
    </div><!-- /#footer -->

</body>
</html>
